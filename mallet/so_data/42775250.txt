Avoiding circular dependencies with Node require()?
