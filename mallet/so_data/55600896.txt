running function more than one times returns "error: Can't set headers after they are sent"
