i am current work on an electron applic that need to be abl to send file over a webrtc datachannel. i am current use peerj as a way to abstract webrtc away a bit and to make develop easier. my current implement use a fileread on the sender side to read a file in 32 kilobyt binari chunks. those chunk then get put into an arraybuff which then get send along with some data to tell the other side what exact it is the sender is sending. the receiv then write the binari data to a file. while the receiv is write that data the sender wait for a “file-proceed” signal from to receiver. when the receiv is done the sender get notifi and send the next chunk. this goe on until the entir file is send.thi approach work until all file send over the cours of applic runtim reach about 500 megabytes. this is what i believ due to a memori leak which i cannot find the root caus of. as far as i know i don't save the object in memori and they should be clear by gc. anoth rather unusu thing is that onli the recipi of the file suffer from this problem.ther is a lot go on in my applic howev this is the part i think is the caus of the problem. (but feel free to ask for more code).thi is the part that is suppos to write the arraybuffer:sm is an object that hold file-transf relat function and variabl henc the “sm.” everywhere.i'v tri set the arraybuff as undefin or null but noth seem to make the object dissapear from memory. not even after the file transfer is completed. a snapshot from the heap seem to back this up. also remov the fs.appendfilesync function to make it not write to disk make no difference.i there anyth i can do to fix this issue? or is this a problem relat to peerjs? ani help or suggest is much appreciated!
